(function(b){b.fn.TinyToggle={defaults:{type:"toggle",size:"medium",palette:"standard",colors:null,icons:null,disabled:false,onReady:null,onChange:null,onCheck:null,onUncheck:null},types:{toggle:{checked:"tt-switch-on",unchecked:"tt-switch-off"},check:{checked:"tt-check-v",unchecked:"tt-check-v"},circle:{checked:"tt-check-circle-empty-v",unchecked:"tt-check-circle-empty-v"},square:{checked:"tt-check-square",unchecked:"tt-uncheck-square"},square_v:{checked:"tt-check-square-outbound-v",unchecked:"tt-check-square-outbound-v"},power:{checked:"tt-power",unchecked:"tt-power"},dot:{checked:"tt-check-circle",unchecked:"tt-uncheck-circle"},like:{checked:"tt-like",unchecked:"tt-like"},watch:{checked:"tt-watch",unchecked:"tt-watch"},star:{checked:"tt-star",unchecked:"tt-star"},lock:{checked:"tt-lock",unchecked:"tt-lock"},heart:{checked:"tt-heart",unchecked:"tt-heart"},smile:{checked:"tt-smile",unchecked:"tt-smile"},},palettes:{standard:{check:"#009900",uncheck:"#999999"},black:{check:"#000000",uncheck:"#999999"},white:{check:"#FFFFFF",uncheck:"#999999"},blue:{check:"#0066FF",uncheck:"#999999"},red:{check:"#CC0000",uncheck:"#999999"},green:{check:"#009933",uncheck:"#999999"},purple:{check:"#CC3399",uncheck:"#999999"},yellow:{check:"#FFCC00",uncheck:"#999999"}},sizes:{mini:"1em",small:"1.2em",medium:"1.5em",large:"2em",big:"2.5em",huge:"3em",monster:"4em",giant:"5em"}};b.fn.tinyToggle=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on $.tinyToggle")}}};var a={init:function(c){if(!c){c={}}return this.each(function(){var e=b.extend({},b.fn.TinyToggle.defaults,c);var h=b(this);h.hide();var j=h.parent();var g=b("<span/>").addClass("tt").append(h);var f=b("<i></i>");if(h.attr("disabled")!=undefined){e.disabled=true}if(e.disabled){g.addClass("tt-disabled")}if(h.data("tt-size")!=undefined){e.size=h.data("tt-size")}var i=b.fn.TinyToggle.sizes[e.size];if(h.data("tt-custom-size")!=undefined){i=h.data("tt-custom-size")}g.css("font-size",i);e.icons=null;if(h.data("tt-type")!=undefined){if(b.fn.TinyToggle.types[h.data("tt-type")]!=undefined){e.type=h.data("tt-type")}}e.icons=b.extend({},b.fn.TinyToggle.types[e.type]);if(h.data("tt-palette")!=undefined){if(b.fn.TinyToggle.palettes[h.data("tt-palette")]!=undefined){e.palette=h.data("tt-palette")}}if(c.colors!=null){e.colors=b.extend({},c.colors)}else{e.colors=b.extend({},b.fn.TinyToggle.palettes[e.palette])}if(h.data("tt-color-check")!=undefined){e.colors.check=h.data("tt-color-check")}if(h.data("tt-color-uncheck")!=undefined){e.colors.uncheck=h.data("tt-color-uncheck")}var d=h.is(":checked");if(d){f.addClass(e.icons.checked);f.css("color",e.colors.check)}else{f.addClass(e.icons.unchecked);f.css("color",e.colors.uncheck)}j.append(g.append(f));f.click(function(){h.tinyToggle("toggle")});g.hover(function(){if(!h.data("disabled")){b(this).find("i").addClass("tt-hover")}},function(){if(!h.data("disabled")){b(this).find("i").removeClass("tt-hover")}});e.ui=g;h.data(e);if(b.isFunction(e.onReady)){e.onReady.call(this,h)}})},toggle:function(){return this.each(function(){var d=b(this);if(!d.data("disabled")){var c=d.is(":checked");var e=d.data();if(c){e.ui.find("i").removeClass(e.icons.checked).addClass(e.icons.unchecked).css("color",e.colors.uncheck);d.prop("checked",false).removeAttr("checked");if(b.isFunction(e.onUncheck)){e.onUncheck.call(this,d)}}else{e.ui.find("i").removeClass(e.icons.unchecked).addClass(e.icons.checked).css("color",e.colors.check);d.prop("checked",true).attr("checked","checked");if(b.isFunction(e.onCheck)){e.onCheck.call(this,d)}}if(b.isFunction(e.onChange)){e.onChange.call(this,d,d.is(":checked"))}}})},check:function(){return this.each(function(){if(!b(this).is(":checked")&&!b(this).data("disabled")){b(this).tinyToggle("toggle")}})},uncheck:function(){return this.each(function(){if(b(this).is(":checked")&&!b(this).data("disabled")){b(this).tinyToggle("toggle")}})},disable:function(){return this.each(function(){b(this).data("disabled",true);b(this).data("ui").addClass("tt-disabled")})},enable:function(){return this.each(function(){b(this).data("disabled",false);b(this).data("ui").removeClass("tt-disabled")})}}})(jQuery);